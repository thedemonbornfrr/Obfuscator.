<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonware Obfuscator V1.5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: white;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 10000;
            display: none;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .notification.show {
            display: block;
        }

        .notification.success {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .notification.error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Landing Page Styles */
        .landing-page {
            display: block;
        }

        .landing-page.hidden {
            display: none;
        }

        .landing-header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: bold;
        }

        .logo-icon {
            font-size: 32px;
        }

        .logo-text {
            background: linear-gradient(45deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .landing-buttons {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-signin {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-signin:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-register {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .btn-register:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }

        .hero {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 40px;
            text-align: center;
        }

        .hero h1 {
            font-size: 56px;
            margin-bottom: 24px;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 28px;
            margin-bottom: 16px;
            color: #e5e7eb;
        }

        .hero-description {
            font-size: 18px;
            color: #9ca3af;
            max-width: 800px;
            margin: 0 auto 48px;
            line-height: 1.8;
        }

        .btn-large {
            padding: 16px 48px;
            font-size: 20px;
            border-radius: 12px;
        }

        .features {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 40px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s, border-color 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: rgba(96, 165, 250, 0.5);
        }

        .feature-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 24px;
            margin-bottom: 12px;
        }

        .feature-card p {
            color: #9ca3af;
            line-height: 1.6;
        }

        /* Auth Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: #1e293b;
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            color: #9ca3af;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            line-height: 1;
        }

        .modal-close:hover {
            color: white;
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .modal-header h2 {
            font-size: 28px;
          }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-note {
            font-size: 12px;
            color: #9ca3af;
            margin-left: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            color: white;
            font-size: 15px;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .captcha-box {
            background: #0f172a;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #334155;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .captcha-box:hover {
            background: #1e293b;
        }

        .captcha-box input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .checkbox-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }

        .btn-submit {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }

        .modal-footer {
            text-align: center;
            margin-top: 24px;
            color: #9ca3af;
            font-size: 14px;
        }

        .modal-footer button {
            background: none;
            border: none;
            color: #60a5fa;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
        }

        .modal-footer button:hover {
            color: #93c5fd;
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            min-height: 100vh;
        }

        .dashboard.show {
            display: block;
        }

        .dashboard-header {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .menu-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            display: none;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-info {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            font-size: 14px;
        }

        .user-label {
            font-size: 12px;
            color: #9ca3af;
        }

        .btn-logout {
            padding: 8px 16px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .dashboard-container {
            display: flex;
        }

        .sidebar {
            width: 260px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 24px 16px;
            min-height: calc(100vh - 64px);
            position: fixed;
            left: 0;
            top: 64px;
            transition: transform 0.3s;
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .sidebar-section {
            margin-bottom: 32px;
        }

        .sidebar-title {
            font-size: 11px;
            font-weight: 700;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding: 0 12px;
        }

        .sidebar-button {
            width: 100%;
            padding: 12px 16px;
            background: none;
            border: none;
            color: white;
            text-align: left;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 15px;
            margin-bottom: 4px;
        }

        .sidebar-button:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar-button.active {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .main-content {
            margin-left: 260px;
            padding: 32px;
            width: calc(100% - 260px);
            transition: margin-left 0.3s, width 0.3s;
        }

        .main-content.full-width {
            margin-left: 0;
            width: 100%;
        }

        .page-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 32px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .stat-icon {
            font-size: 32px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
        }

        .stat-label {
            color: #9ca3af;
            font-size: 14px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 32px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
        }

        .textarea-code {
            width: 100%;
            min-height: 300px;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 16px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .textarea-code:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .option-card {
            background: rgba(15, 23, 42, 0.5);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(51, 65, 85, 0.5);
        }

        .option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .option-title {
            font-weight: 600;
            font-size: 15px;
        }

        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background: #334155;
            border-radius: 24px;
            transition: background 0.3s;
        }

        .toggle-slider:before {
            content: "";
            position: absolute;
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .toggle-switch input:checked + .toggle-slider {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .option-description {
            color: #9ca3af;
            font-size: 13px;
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slots-info {
            text-align: center;
            color: #9ca3af;
            font-size: 14px;
            margin-top: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .empty-description {
            color: #9ca3af;
        }

        .script-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .script-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .script-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .script-id {
            font-family: 'Courier New', monospace;
            background: #0f172a;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 14px;
            display: inline-block;
            margin-bottom: 8px;
        }

        .script-meta {
            font-size: 14px;
            color: #9ca3af;
        }

        .script-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-copy {
            background: rgba(16, 185, 129, 0.2);
            color: #6ee7b7;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .btn-copy:hover {
            background: rgba(16, 185, 129, 0.3);
        }

        .btn-delete {
            background: rgba(239, 68, 68, 0.2);
            color: #fca5a5;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .btn-delete:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .code-preview {
            background: #0f172a;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
            border: 1px solid #334155;
        }

        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 24px;
            border-radius: 12px;
            margin-top: 24px;
        }

        .info-box h3 {
            font-size: 20px;
            margin-bottom: 12px;
        }

        .info-box p {
            color: #9ca3af;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            padding: 20px;
            border-radius: 8px;
        }

        .warning-box h4 {
            color: #fbbf24;
            font-size: 16px;
            margin-bottom: 12px;
        }

        .warning-box ul {
            margin-left: 20px;
            color: #e5e7eb;
        }

        .warning-box li {
            margin-bottom: 4px;
        }

        .security-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .security-card {
            background: rgba(15, 23, 42, 0.5);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(51, 65, 85, 0.5);
        }

        .security-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-size: 14px;
            color: #9ca3af;
        }

        .security-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .security-status {
            font-size: 12px;
        }

        .status-success {
            color: #6ee7b7;
        }

        .status-neutral {
            color: #9ca3af;
        }

        .content-section {
            margin-bottom: 32px;
        }

        .content-section h4 {
            font-size: 20px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .content-section p {
            color: #9ca3af;
            line-height: 1.8;
            margin-bottom: 16px;
        }

        .content-section ul {
            margin-left: 20px;
            color: #9ca3af;
            line-height: 1.8;
        }

        .license-section {
            margin-bottom: 24px;
        }

        .license-section h4 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .license-section p {
            color: #e5e7eb;
            line-height: 1.8;
        }

        .step-section {
            margin-bottom: 32px;
        }

        .step-section h4 {
            font-size: 18px;
            margin-bottom: 12px;
        }

        .executor-card {
            background: rgba(15, 23, 42, 0.5);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid #334155;
            margin-bottom: 16px;
        }

        .executor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .executor-info h4 {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .executor-info p {
            font-size: 14px;
            color: #9ca3af;
        }

        .executor-icon {
            font-size: 32px;
        }

        .btn-discord {
            width: 100%;
            padding: 12px;
            background: #5865f2;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn-discord:hover {
            background: #4752c4;
        }

        .discord-link {
            text-align: center;
            font-size: 12px;
            color: #64748b;
            margin-top: 8px;
        }

        .discord-hero {
            text-align: center;
            padding: 40px;
        }

        .discord-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }

        .discord-hero h3 {
            font-size: 28px;
            margin-bottom: 16px;
        }

        .discord-hero p {
            color: #9ca3af;
            max-width: 600px;
            margin: 0 auto 32px;
            line-height: 1.6;
        }

        .btn-discord-large {
            padding: 16px 40px;
            background: #5865f2;
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .btn-discord-large:hover {
            background: #4752c4;
            transform: scale(1.05);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 32px;
        }

        .mini-feature {
            background: rgba(255, 255, 255, 0.05);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .mini-feature-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .mini-feature h4 {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .mini-feature p {
            font-size: 13px;
            color: #9ca3af;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.show {
                transform: translateX(0);
                z-index: 100;
            }

            .main-content {
                margin-left: 0;
                width: 100%;
            }

            .user-info {
                display: none;
            }

            .hero h1 {
                font-size: 36px;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .script-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .script-actions {
                width: 100%;
            }

            .btn-small {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <div class="landing-header">
            <div class="logo">
                <span class="logo-icon">🌙</span>
                <span class="logo-text">Moonware</span>
            </div>
            <div class="landing-buttons">
                <button class="btn btn-signin" onclick="openAuthModal('login')">Sign In</button>
                <button class="btn btn-register" onclick="openAuthModal('register')">Register</button>
            </div>
        </div>

        <div class="hero">
            <h1>Securing Your Code is Our Duty</h1>
            <p class="hero-subtitle">Rely on Us</p>
            <p class="hero-description">
                Welcome to Moonware. Moonware helps provide powerful obfuscation on your scripts to easily stop others from skidding/stealing your scripts. If you have no other options, CHOOSE US.
            </p>
            <button class="btn btn-register btn-large" onclick="openAuthModal('register')">Get Started Free</button>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">🛡️</div>
                <h3>V3 Class-A Encryption</h3>
                <p>Advanced Base64 encoding with custom Roblox-compatible decoder</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3>Vanguard Protection</h3>
                <p>Anti-decompiler and anti-tamper technology to keep scripts secure</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">👥</div>
                <h3>Easy to Use</h3>
                <p>Simple interface for quick script protection in seconds</p>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal-overlay">
        <div class="modal">
            <button class="modal-close" onclick="closeAuthModal()">✕</button>
            <div class="modal-header">
                <span class="logo-icon">🌙</span>
                <h2 id="authTitle">Sign In</h2>
            </div>
            <form id="authForm" onsubmit="handleAuth(event)">
                <div class="form-group">
                    <label>
                        Name
                        <span class="form-note" id="nameNote">(doesn't have to be your real name)</span>
                    </label>
                    <input type="text" id="authName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label>
                        Password
                        <span class="form-note" id="passwordNote">(will save automatically)</span>
                    </label>
                    <input type="password" id="authPassword" class="form-input" required>
                </div>
                <div class="form-group" id="confirmPasswordGroup" style="display: none;">
                    <label>
                        Type Password Again
                        <span class="form-note">(just to make sure you're not a robot)</span>
                    </label>
                    <input type="password" id="authConfirmPassword" class="form-input">
                </div>
                <div class="form-group" id="captchaGroup" style="display: none;">
                    <div class="captcha-box">
                        <input type="checkbox" id="authCaptcha">
                        <label for="authCaptcha">I'm not a robot</label>
                    </div>
                </div>
                <div class="form-group" id="rememberGroup" style="display: none;">
                    <label class="checkbox-label">
                        <input type="checkbox" id="authRemember">
                        <span>Remember passwords, names, and other data</span>
                    </label>
                </div>
                <button type="submit" class="btn-submit" id="authSubmitBtn">Sign In</button>
            </form>
            <div class="modal-footer">
                <span id="authSwitchText">Don't have an account?</span>
                <button type="button" id="authSwitchBtn" onclick="toggleAuthMode()">Register</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard">
        <div class="dashboard-header">
            <div class="header-left">
                <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
                <div class="logo">
                    <span class="logo-icon">🌙</span>
                    <span class="logo-text">Moonware</span>
                </div>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <div class="user-label">Welcome back</div>
                    <div class="user-name" id="userName">User</div>
                </div>
                <button class="btn-logout" onclick="logout()">🚪 Logout</button>
            </div>
        </div>

        <div class="dashboard-container">
            <!-- Sidebar -->
            <div id="sidebar" class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-title">Main Stuff</div>
                    <button class="sidebar-button active" onclick="switchPage('dashboard')" data-page="dashboard">
                        📊 Main Dashboard
                    </button>
                    <button class="sidebar-button" onclick="switchPage('protection')" data-page="protection">
                        🛡️ How We Protect
                    </button>
                    <button class="sidebar-button" onclick="switchPage('license')" data-page="license">
                        📄 Our License
                    </button>
                    <button class="sidebar-button" onclick="switchPage('guidelines')" data-page="guidelines">
                        📖 Guidelines
                    </button>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">Script Stuff</div>
                    <button class="sidebar-button" onclick="switchPage('obfuscate')" data-page="obfuscate">
                        📤 Obfuscation
                    </button>
                    <button class="sidebar-button" onclick="switchPage('history')" data-page="history">
                        📜 Script History
                    </button>
                    <button class="sidebar-button" onclick="switchPage('executors')" data-page="executors">
                        ⚡ Executors
                    </button>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">Our Things</div>
                    <button class="sidebar-button" onclick="switchPage('discord')" data-page="discord">
                        👥 Discord Server
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div id="mainContent" class="main-content">

              <!-- Dashboard Page -->
                <div id="page-dashboard" class="page-content">
                    <h1 class="page-title">Main Dashboard</h1>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-icon">👥</span>
                            </div>
                            <div class="stat-value" id="stat-users">1</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-icon">🔒</span>
                            </div>
                            <div class="stat-value" id="stat-obfuscations">0</div>
                            <div class="stat-label">Active Obfuscations</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-icon">📊</span>
                            </div>
                            <div class="stat-value" id="stat-executions">0</div>
                            <div class="stat-label">Total Executions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-icon">⏱️</span>
                            </div>
                            <div class="stat-value" id="stat-session">0m</div>
                            <div class="stat-label">Session Time</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span style="font-size: 24px;">📈</span>
                            <h2 class="card-title">Activity Overview</h2>
                        </div>
                        <p style="color: #9ca3af;">You've been active for <span id="activity-time">0 minutes</span></p>
                        <p style="color: #9ca3af; margin-top: 8px;">Total obfuscations this session: <span id="activity-obfuscations">0</span></p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span style="font-size: 24px;">🛡️</span>
                            <h2 class="card-title">Moonware Security Monitoring</h2>
                        </div>
                        <p style="color: #9ca3af; margin-bottom: 24px;">Real-time security analytics and detection metrics</p>
                        
                        <div class="security-grid">
                            <div class="security-card">
                                <div class="security-header">
                                    <span>👥</span>
                                    <span>People Using Scripts</span>
                                </div>
                                <div class="security-value" id="security-users">0</div>
                                <div class="security-status status-success">✓ All legitimate</div>
                            </div>
                            <div class="security-card">
                                <div class="security-header">
                                    <span>🛡️</span>
                                    <span>Deobfuscation Attempts</span>
                                </div>
                                <div class="security-value">0</div>
                                <div class="security-status status-neutral">No security events detected</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Obfuscate Page -->
                <div id="page-obfuscate" class="page-content" style="display: none;">
                    <h1 class="page-title">Obfuscate Script</h1>
                    
                    <div class="card">
                        <label style="display: block; font-weight: 600; margin-bottom: 12px;">Script Code</label>
                        <textarea id="scriptInput" class="textarea-code" placeholder="Paste your Lua/Luau script here...

Example:
local player = game.Players.LocalPlayer
print('Hello ' .. player.Name)"></textarea>
                    </div>

                    <div class="card">
                        <h2 class="card-title" style="margin-bottom: 20px;">Obfuscation Options</h2>
                        <div class="options-grid">
                            <div class="option-card">
                                <div class="option-header">
                                    <span class="option-title">V3 Class-A</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="opt-v3classA" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="option-description">Advanced Base64 encoding</div>
                            </div>
                            <div class="option-card">
                                <div class="option-header">
                                    <span class="option-title">Vanguard v3.5</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="opt-vanguard" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="option-description">Anti-decompiler protection</div>
                            </div>
                            <div class="option-card">
                                <div class="option-header">
                                    <span class="option-title">Variable Renaming</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="opt-varRename" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="option-description">Random hex variable names</div>
                            </div>
                            <div class="option-card">
                                <div class="option-header">
                                    <span class="option-title">Syntax Bypass</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="opt-bypassSyntax">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="option-description">Skip Luau validation</div>
                            </div>
                        </div>
                    </div>

                    <button class="btn-primary" id="obfuscateBtn" onclick="obfuscateScript()">
                        🔒 Obfuscate Script
                    </button>
                    <div class="slots-info" id="slotsInfo">5 slots remaining</div>
                </div>

                <!-- History Page -->
                <div id="page-history" class="page-content" style="display: none;">
                    <h1 class="page-title">Script History</h1>
                    <div id="scriptList"></div>
                </div>

                <!-- Protection Page -->
                <div id="page-protection" class="page-content" style="display: none;">
                    <h1 class="page-title">How We Protect Your Scripts</h1>
                    
                    <div class="card">
                        <h2 class="card-title" style="color: #60a5fa; margin-bottom: 24px;">Our Protection Methods</h2>
                        
                        <div class="content-section">
                            <h4>🛡️ V3 Class-A Encryption</h4>
                            <p>Advanced Base64 encoding with a custom Roblox-compatible decoder. Your script is encoded at the binary level, making it extremely difficult to reverse engineer without the proper decoding function.</p>
                        </div>

                        <div class="content-section">
                            <h4>🛡️ Vanguard-WS v3.5</h4>
                            <p>Our proprietary anti-decompiler technology adds protection headers and detection mechanisms that prevent common deobfuscation tools from analyzing your code structure.</p>
                        </div>

                        <div class="content-section">
                            <h4>🛡️ Variable Obfuscation</h4>
                            <p>All local variables are renamed to random hexadecimal identifiers, making the code logic nearly impossible to follow for anyone attempting to steal your work.</p>
                        </div>

                        <div class="content-section">
                            <h4>🛡️ Anti-Tamper Protection</h4>
                            <p>Built-in safeguards detect and prevent modifications to the obfuscated code, ensuring your script remains secure even if someone tries to alter it.</p>
                        </div>
                    </div>

                    <div class="info-box">
                        <h3>🛡️ Security Guarantee</h3>
                        <p>Moonware uses multiple layers of protection to ensure your scripts remain safe. While no obfuscation is 100% unbreakable, our methods make it extremely time-consuming and difficult for bad actors to steal your work.</p>
                    </div>
                </div>

                <!-- License Page -->
                <div id="page-license" class="page-content" style="display: none;">
                    <h1 class="page-title">Our License</h1>
                    
                    <div class="card">
                        <h2 class="card-title" style="margin-bottom: 24px;">Moonware License Agreement</h2>
                        
                        <p style="color: #e5e7eb; margin-bottom: 24px;"><strong>Version 1.5 - Effective Date: October 2025</strong></p>
                        
                        <div class="license-section">
                            <h4>1. Grant of License</h4>
                            <p>Moonware grants you a non-exclusive, non-transferable license to use our obfuscation service for protecting your Roblox scripts.</p>
                        </div>

                        <div class="license-section">
                            <h4>2. Permitted Use</h4>
                            <p>You may use Moonware to:</p>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Protect your original scripts from unauthorized copying</li>
                                <li>Secure intellectual property in your Roblox projects</li>
                                <li>Distribute obfuscated scripts to end users</li>
                            </ul>
                        </div>

                        <div class="license-section">
                            <h4>3. Restrictions</h4>
                            <p>You may NOT use Moonware to:</p>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Obfuscate malicious code or malware</li>
                                <li>Protect stolen or unauthorized scripts</li>
                                <li>Create exploits or cheats that violate Roblox Terms of Service</li>
                                <li>Reverse engineer or attempt to bypass Moonware's protection</li>
                            </ul>
                        </div>

                        <div class="license-section">
                            <h4>4. Service Limits</h4>
                            <p>Free tier includes:</p>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Maximum 5 scripts stored at once</li>
                                <li>Unlimited script executions</li>
                                <li>Access to all obfuscation features</li>
                            </ul>
                        </div>

                        <div class="license-section">
                            <h4>5. Disclaimer</h4>
                            <p style="font-size: 14px;">Moonware provides obfuscation services "as is" without warranty. We are not responsible for any damages arising from use of our service. By using Moonware, you agree to comply with all applicable laws and Roblox Terms of Service.</p>
                        </div>
                    </div>
                </div>

                <!-- Guidelines Page -->
                <div id="page-guidelines" class="page-content" style="display: none;">
                    <h1 class="page-title">Guidelines</h1>
                    
                    <div class="card">
                        <h2 class="card-title" style="margin-bottom: 24px;">How to Use Moonware</h2>
                        
                        <div class="step-section">
                            <h4>📝 Step 1: Prepare Your Script</h4>
                            <p style="color: #9ca3af;">Make sure your script is working correctly before obfuscating. Test it thoroughly in Roblox Studio. Once obfuscated, debugging becomes much more difficult.</p>
                        </div>

                        <div class="step-section">
                            <h4>🔒 Step 2: Choose Protection Options</h4>
                            <p style="color: #9ca3af;">Select the obfuscation methods you want. We recommend enabling all options for maximum protection:</p>
                            <ul style="margin-left: 20px; margin-top: 12px; color: #9ca3af;">
                                <li><strong>V3 Class-A:</strong> Essential for basic protection</li>
                                <li><strong>Vanguard:</strong> Adds anti-decompiler headers</li>
                                <li><strong>Variable Renaming:</strong> Makes code harder to read</li>
                                <li><strong>Syntax Bypass:</strong> Only if you have unusual syntax</li>
                            </ul>
                        </div>

                        <div class="step-section">
                            <h4>📤 Step 3: Upload & Obfuscate</h4>
                            <p style="color: #9ca3af;">Click "Obfuscate Script" and wait for processing. Your script will be encrypted and saved to your account. You can store up to 5 scripts at once.</p>
                        </div>

                        <div class="step-section">
                            <h4>📋 Step 4: Copy Your Script</h4>
                            <p style="color: #9ca3af;">Go to "Script History" and click "Copy" on your obfuscated script. Paste it into your Roblox game. The script will work exactly like the original, but now it's protected!</p>
                        </div>

                        <div class="warning-box">
                            <h4>⚠️ Important Notes</h4>
                            <ul>
                                <li>Always keep a backup of your original script</li>
                                <li>Test obfuscated scripts before deployment</li>
                                <li>Obfuscation may slightly increase script size</li>
                                <li>Some debugging features won't work on obfuscated code</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Executors Page -->
                <div id="page-executors" class="page-content" style="display: none;">
                    <h1 class="page-title">Recommended Executors</h1>
                    
                    <div class="card">
                        <h2 class="card-title" style="margin-bottom: 16px;">Android Executors</h2>
                        <p style="color: #9ca3af; margin-bottom: 24px;">These are trusted Roblox script executors for Android devices. Always download from official sources!</p>
                        
                        <div class="executor-card">
                            <div class="executor-header">
                                <div class="executor-info">
                                    <h4>1. Delta</h4>
                                    <p>Powerful Android executor with great compatibility</p>
                                </div>
                                <div class="executor-icon">⚡</div>
                            </div>
                            <button class="btn-discord" onclick="copyDiscordLink('https://discord.gg/deltax', 'Delta')">
                                📋 Copy Discord Link
                            </button>
                            <div class="discord-link">https://discord.gg/deltax</div>
                        </div>

                        <div class="executor-card">
                            <div class="executor-header">
                                <div class="executor-info">
                                    <h4>2. Krnl</h4>
                                    <p>Popular and reliable Android executor</p>
                                </div>
                                <div class="executor-icon">⚡</div>
                            </div>
                            <button class="btn-discord" onclick="copyDiscordLink('https://discord.gg/getkrnl', 'Krnl')">
                                📋 Copy Discord Link
                            </button>
                            <div class="discord-link">https://discord.gg/getkrnl</div>
                        </div>

                        <div class="warning-box" style="margin-top: 24px;">
                            <h4>⚠️ Safety Warning</h4>
                            <p style="font-size: 14px; color: #e5e7eb;">Only download executors from their official Discord servers or websites. Never download from third-party sites as they may contain malware. Use executors responsibly and follow Roblox Terms of Service.</p>
                        </div>
                    </div>
                </div>

                <!-- Discord Page -->
                <div id="page-discord" class="page-content" style="display: none;">
                    <h1 class="page-title">Join Our Discord</h1>
                    
                    <div class="card">
                        <div class="discord-hero">
                            <div class="discord-icon">👥</div>
                            <h3>Moonware Community</h3>
                            <p>Join our Discord server to get support, share your projects, report bugs, and connect with other developers using Moonware!</p>
                            <button class="btn-discord-large" onclick="copyDiscordLink('https://discord.gg/b9xbWyztEr', 'Moonware')">
                                <span>👥</span>
                                <span>Copy Discord Invite</span>
                            </button>
                            <div style="font-size: 14px; color: #64748b; margin-top: 16px;">https://discord.gg/b9xbWyztEr</div>
                        </div>
                    </div>

                    <div class="features-grid">
                        <div class="mini-feature">
                            <div class="mini-feature-icon">💬</div>
                            <h4>Get Support</h4>
                            <p>Ask questions and get help from the community</p>
                        </div>
                        <div class="mini-feature">
                            <div class="mini-feature-icon">🚀</div>
                            <h4>Updates</h4>
                            <p>Be the first to know about new features</p>
                        </div>
                        <div class="mini-feature">
                            <div class="mini-feature-icon">🤝</div>
                            <h4>Community</h4>
                            <p>Connect with other developers</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = window.location.origin;
        let currentUser = null;
        let authMode = 'login';
        let sessionStartTime = null;
        let sessionInterval = null;

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Auth Modal Functions
        function openAuthModal(mode) {
            authMode = mode;
            updateAuthModal();
            document.getElementById('authModal').classList.add('show');
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.remove('show');
            document.getElementById('authForm').reset();
        }

        function toggleAuthMode() {
            authMode = authMode === 'login' ? 'register' : 'login';
            updateAuthModal();
            document.getElementById('authForm').reset();
        }

        function updateAuthModal() {
            const isRegister = authMode === 'register';
            document.getElementById('authTitle').textContent = isRegister ? 'Register' : 'Sign In';
            document.getElementById('authSubmitBtn').textContent = isRegister ? 'Fully Register' : 'Sign In';
            document.getElementById('authSwitchText').textContent = isRegister ? 'Already have an account?' : "Don't have an account?";
            document.getElementById('authSwitchBtn').textContent = isRegister ? 'Sign In' : 'Register';
            
            // Show/hide fields based on mode
            const nameNote = document.getElementById('nameNote');
            const passwordNote = document.getElementById('passwordNote');
            const confirmGroup = document.getElementById('confirmPasswordGroup');
            const captchaGroup = document.getElementById('captchaGroup');
            const rememberGroup = document.getElementById('rememberGroup');
            
            if (isRegister) {
                nameNote.style.display = 'inline';
                passwordNote.style.display = 'inline';
                confirmGroup.style.display = 'block';
                captchaGroup.style.display = 'block';
                rememberGroup.style.display = 'block';
                
                // Make confirm password required for register
                document.getElementById('authConfirmPassword').required = true;
            } else {
                nameNote.style.display = 'none';
                passwordNote.style.display = 'none';
                confirmGroup.style.display = 'none';
                captchaGroup.style.display = 'none';
                rememberGroup.style.display = 'none';
                
                // Remove required for login
                document.getElementById('authConfirmPassword').required = false;
            }
        }

        // Handle Auth
        async function handleAuth(event) {
            event.preventDefault();
            
            const name = document.getElementById('authName').value.trim();
            const password = document.getElementById('authPassword').value;
            
            if (!name || !password) {
                showNotification('❌ Please fill in all fields', 'error');
                return;
            }
            
            if (authMode === 'register') {
                const confirmPassword = document.getElementById('authConfirmPassword').value;
                const captcha = document.getElementById('authCaptcha').checked;
                const remember = document.getElementById('authRemember').checked;
                
                if (password !== confirmPassword) {
                    showNotification('❌ Passwords do not match', 'error');
                    return;
                }
                
                if (!captcha) {
                    showNotification('❌ Please complete the captcha', 'error');
                    return;
                }
                
                try {
                    const response = await fetch(`${API_URL}/api/auth/register`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, password })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        currentUser = data.user;
                        if (remember) {
                            localStorage.setItem('moonware_user', JSON.stringify(data.user));
                            localStorage.setItem('moonware_remember', 'true');
                        }
                        closeAuthModal();
                        showDashboard();
                        showNotification('✅ Account created successfully! Welcome to Moonware!');
                    } else {
                        showNotification('❌ ' + (data.error || 'Registration failed'), 'error');
                    }
                } catch (error) {
                    console.error('Register error:', error);
                    showNotification('❌ Failed to connect to server', 'error');
                }
            } else {
                // Login mode
                try {
                    const response = await fetch(`${API_URL}/api/auth/login`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, password })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        currentUser = data.user;
                        localStorage.setItem('moonware_user', JSON.stringify(data.user));
                        closeAuthModal();
                        showDashboard();
                        showNotification('✅ Welcome back to Moonware!');
                    } else {
                        showNotification('❌ ' + (data.error || 'Invalid credentials'), 'error');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    showNotification('❌ Failed to connect to server', 'error');
                }
            }
        }

        // Show Dashboard
        function showDashboard() {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('dashboard').classList.add('show');
            document.getElementById('userName').textContent = currentUser.name;
            
            sessionStartTime = Date.now();
            startSessionTimer();
            loadStats();
            loadScripts();
            
            // Update activity stats
            document.getElementById('activity-obfuscations').textContent = currentUser.totalObfuscations || 0;
        }

        // Start Session Timer
        function startSessionTimer() {
            if (sessionInterval) clearInterval(sessionInterval);
            
            // Update immediately
            updateSessionTime();
            
            // Then update every minute
            sessionInterval = setInterval(updateSessionTime, 60000);
        }

        function updateSessionTime() {
            const minutes = Math.floor((Date.now() - sessionStartTime) / 60000);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);
            
            let timeStr;
            if (days > 0) timeStr = `${days}d`;
            else if (hours > 0) timeStr = `${hours}h`;
            else timeStr = `${minutes}m`;
            
            document.getElementById('stat-session').textContent = timeStr;
            document.getElementById('activity-time').textContent = minutes + ' minutes';
        }

        // Logout
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                const remember = localStorage.getItem('moonware_remember');
                if (remember !== 'true') {
                    localStorage.removeItem('moonware_user');
                }
                localStorage.removeItem('moonware_remember');
                
                currentUser = null;
                if (sessionInterval) clearInterval(sessionInterval);
                
                document.getElementById('landingPage').classList.remove('hidden');
                document.getElementById('dashboard').classList.remove('show');
                showNotification('👋 Logged out successfully');
            }
        }

        // Toggle Sidebar
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('show');
        }

        // Switch Page
        function switchPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.style.display = 'none';
            });
            
            // Show selected page
            document.getElementById('page-' + pageName).style.display = 'block';
            
            // Update sidebar buttons
            document.querySelectorAll('.sidebar-button').forEach(btn => {
                btn.classList.remove('active');
            });
            const activeBtn = document.querySelector(`[data-page="${pageName}"]`);
            if (activeBtn) activeBtn.classList.add('active');
            
            // Close sidebar on mobile
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('show');
            }
            
            // Load page-specific data
            if (pageName === 'history') {
                loadScripts();
            } else if (pageName === 'dashboard') {
                loadStats();
            }
        }

        // Obfuscate Script
        async function obfuscateScript() {
            const scriptInput = document.getElementById('scriptInput').value;
            
            if (!scriptInput.trim()) {
                showNotification('❌ Please enter a script to obfuscate', 'error');
                return;
            }
            
            const options = {
                v3ClassA: document.getElementById('opt-v3classA').checked,
                vanguard: document.getElementById('opt-vanguard').checked,
                varRename: document.getElementById('opt-varRename').checked,
                bypassSyntax: document.getElementById('opt-bypassSyntax').checked
            };
            
            const btn = document.getElementById('obfuscateBtn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.textContent = '⏳ Processing...';
            
            try {
                const response = await fetch(`${API_URL}/api/upload`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: currentUser.id,
                        script: scriptInput,
                        options: options
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification('✅ Script obfuscated successfully!');
                    document.getElementById('scriptInput').value = '';
                    currentUser.totalObfuscations = (currentUser.totalObfuscations || 0) + 1;
                    document.getElementById('activity-obfuscations').textContent = currentUser.totalObfuscations;
                    
                    // Save updated user
                    localStorage.setItem('moonware_user', JSON.stringify(currentUser));
                    
                    loadStats();
                    
                    setTimeout(() => {
                        switchPage('history');
                    }, 1000);
                } else {
                    showNotification('❌ ' + (data.error || 'Upload failed'), 'error');
                }
            } catch (error) {
                console.error('Obfuscate error:', error);
                showNotification('❌ Failed to connect to server', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = originalText;
            }
        }

        // Load Scripts
        async function loadScripts() {
            const scriptList = document.getElementById('scriptList');
            scriptList.innerHTML = '<div style="text-align: center; padding: 40px;"><div style="font-size: 32px; margin-bottom: 16px;">⏳</div><div>Loading scripts...</div></div>';
            
            try {
                const response = await fetch(`${API_URL}/api/scripts/${currentUser.id}`);
                const data = await response.json();
                
                if (data.scripts.length === 0) {
                    scriptList.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">📭</div>
                            <h3 class="empty-title">No Scripts Yet</h3>
                            <p class="empty-description">Upload your first script to get started!</p>
                        </div>
                    `;
                    return;
                }
                
                scriptList.innerHTML = data.scripts.map(script => `
                    <div class="script-item">
                        <div class="script-header">
                            <div>
                                <div class="script-id">${script.id}</div>
                                <div class="script-meta">
                                    📅 ${new Date(script.createdAt).toLocaleString()} • 
                                    📦 ${(script.size / 1024).toFixed(2)} KB • 
                                    🔄 ${script.executions} executions
                                </div>
                            </div>
                            <div class="script-actions">
                            <button class="btn-small btn-copy" onclick="copyScript('${script.id}')">📋 Copy</button>
                                <button class="btn-small btn-delete" onclick="deleteScript('${script.id}')">🗑️ Delete</button>
                            </div>
                        </div>
                        <div class="code-preview" id="preview-${script.id}">Loading preview...</div>
                    </div>
                `).join('');
                
                // Load previews
                data.scripts.forEach(async (script) => {
                    try {
                        const response = await fetch(`${API_URL}/api/script/${script.id}`);
                        const scriptData = await response.json();
                        if (scriptData.success) {
                            const preview = scriptData.content.substring(0, 200) + '...';
                            const previewEl = document.getElementById(`preview-${script.id}`);
                            if (previewEl) previewEl.textContent = preview;
                        }
                    } catch (error) {
                        const previewEl = document.getElementById(`preview-${script.id}`);
                        if (previewEl) previewEl.textContent = 'Failed to load preview';
                    }
                });
            } catch (error) {
                console.error('Load scripts error:', error);
                scriptList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">❌</div>
                        <h3 class="empty-title">Failed to Load Scripts</h3>
                        <p class="empty-description">Please check your connection and try again</p>
                    </div>
                `;
            }
        }

        // Copy Script
        async function copyScript(scriptId) {
            try {
                const response = await fetch(`${API_URL}/api/script/${scriptId}`);
                const data = await response.json();
                
                if (data.success) {
                    await navigator.clipboard.writeText(data.content);
                    showNotification('✅ Script copied to clipboard!');
                } else {
                    showNotification('❌ Failed to load script', 'error');
                }
            } catch (error) {
                showNotification('❌ Failed to copy script', 'error');
            }
        }

        // Delete Script
        async function deleteScript(scriptId) {
            if (!confirm('⚠️ Are you sure you want to delete this script? This action cannot be undone.')) {
                return;
            }
            
            try {
                const response = await fetch(`${API_URL}/api/scripts/${scriptId}`, {
                    method: 'DELETE'
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification('✅ Script deleted successfully');
                    loadScripts();
                    loadStats();
                } else {
                    showNotification('❌ ' + (data.error || 'Delete failed'), 'error');
                }
            } catch (error) {
                console.error('Delete error:', error);
                showNotification('❌ Failed to delete script', 'error');
            }
        }

        // Load Stats
        async function loadStats() {
            try {
                const response = await fetch(`${API_URL}/api/stats/${currentUser.id}`);
                const data = await response.json();
                
                document.getElementById('stat-obfuscations').textContent = data.totalScripts;
                document.getElementById('stat-executions').textContent = data.totalExecutions;
                document.getElementById('security-users').textContent = data.totalExecutions;
                
                const slotsLeft = data.slotsLeft;
                document.getElementById('slotsInfo').textContent = `${slotsLeft} slot${slotsLeft !== 1 ? 's' : ''} remaining`;
                
                const obfuscateBtn = document.getElementById('obfuscateBtn');
                if (slotsLeft === 0) {
                    obfuscateBtn.disabled = true;
                    obfuscateBtn.textContent = '⚠️ Maximum Scripts Reached (5/5)';
                } else {
                    obfuscateBtn.disabled = false;
                    obfuscateBtn.textContent = '🔒 Obfuscate Script';
                }
            } catch (error) {
                console.error('Load stats error:', error);
            }
        }

        // Copy Discord Link
        function copyDiscordLink(link, name) {
            navigator.clipboard.writeText(link).then(() => {
                showNotification(`✅ ${name} Discord link copied to clipboard!`);
            }).catch(() => {
                showNotification('❌ Failed to copy link', 'error');
            });
        }

        // Check for saved user on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedUser = localStorage.getItem('moonware_user');
            if (savedUser) {
                try {
                    currentUser = JSON.parse(savedUser);
                    showDashboard();
                } catch (error) {
                    console.error('Error loading saved user:', error);
                    localStorage.removeItem('moonware_user');
                }
            }
        });

        // Close modal when clicking outside
        document.getElementById('authModal').addEventListener('click', (e) => {
            if (e.target.id === 'authModal') {
                closeAuthModal();
            }
        });
    </script>
</body>
</html>
